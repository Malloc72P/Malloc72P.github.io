---
sort: 65
title: boj 11723 집합
tags: [ 코딩테스트, 백준 ]
---

[문제](https://www.acmicpc.net/problem/11723)

## 비트마스크

* 비트가 10개 있다고 치자. 그러면 0부터 9까지해서 있는지 없는지 여부를 저장할 수 있다.
* 예를 들면, 집합 S = `{1, 3, 4, 5, 9}`가 있다고 치자.
* 이걸 비트로 표현해보자. 원소가 있으면 1, 없으면 0으로 표현하자
* 그러면 `10 0011 1010`으로 표현할 수 있다. 10진수로 표기하면 570이 된다.
* 그러므로, 우리는 정수를 가지고 집합을 표현할 수 있다.

* 그런 이유로 비트마스크를 쓰면 공간사용이 적다.
* 또한 집합에 값을 추가, 삭제, 검사하는 비용이 `O(1)`이다
* 다만 표현 가능한 집합의 범위에는  한계가 있다.

##### 집합에 값이 있는지 검사하기

* 검사하려는 요소에 해당하는 비트만 1로 만들고, 나머지는 0인 마스크를 준비한다
* 집합 S와 검사용 마스크를 AND연산한다
* 결과가 0이면 없음을 의미한다.
* 0이 아니면 요소가 있음을 의미한다.

##### 추가하기

* 요소X 를 추가한다면, 집합S의 X번째 비트를 1로 세팅한다 
* 해당 요소만 1로 세팅한 마스크와 집합 S를 OR연산을 한다

##### 삭제하기

* 요소X를 삭제한다면, `~2^X`인 마스크를 만들자
  * 그러면 요소만 0이 되고, 나머지는 1이 된다
* 집합 S와 마스크를 AND연산하면, X외의 요소는 원래 값이 나오지만, 요소 X는 0이 된다

##### 토글 연산

* 같으면 0, 다르면 1인 XOR연산을 이용한다.
* 요소X만 1인 마스크와 XOR연산을 하면, 요소 X에서 `1 ^ 1`이 되버려서 0이 된다. 반대로 `0 ^ 1`이면 1이 되니까 토글 연산이 가능해진다.

##### 전체집합

* `(1 << (N + 1)) - 1`을 하면 된다.
* `1 << (N + 1)`을 하면, N+1번째 자리에 1이 올라간다. 나머지는 0이다.
* 여기서 1을 빼게 되면, 1부터 N까지 전부 1이 된다

##### 공집합

* 0