---
sort: 1
title: 협력하는 객체들의 공동체
tags: [ OOP, 객체지향의_사실과_오해 ]
---

## 협력하는 객체들의 공동체

#### 오해

* 객체지향의 목표는 실세계를 모방하는게 아니라, 새로운 세계를 창조하는 것이다.
* 단순히 실세계를 모방한 프로그램을 만들라는게 아니다.
* 쓰는 사람이 만족할 수 있는 새로운 세계를 창조해야한다.
* 그런데 왜 실세계를 모방해야한다고 생각한걸까?
* 실세계를 모방하는게 객체지향을 이해하고 배우는데 효과적이니까.
* 객체지향이라는 용어에 담긴 기본사상을 이해하는데 있어서, 실세계를 모방한다는건 매우 효과적
* 그렇지만 비현실적이다. 실무적인 관점에서는 부적합하다고 한다.
* 그래도 실세계를 모방하는건 객체지향을 이해하는데 도움이 되니까 한번 해보자

#### 객체들의 협력(Collaboration)

* 개인의 힘에는 한계가 있다.
* 그래서 여러 사람이 모여서 공동체를 이룬다.
* 객체들도 마찬가지다. 하나의 객체가 모든것을 할 수 없다.
* 어떤 일을 하고 싶지만 나는 할 수 없다. 그러면 이걸 할 수 있는 객체한테 **요청**해야한다.
* 그러면 그 객체는 **요청**을 받고, 자신에게 주어진 **책임**을 다한다. 즉, 서비스해준다.
* 그런 다음 요청한 객체에게 **응답**해준다.

#### 역할과 책임

* 공동체의 구성원들은 저마다 **역할**이 있다.

* 어떤 사람의 **역할**은 경찰관이다. 이 사람에겐 나쁜사람을 잡아야 한다는 **책임**이 있다.

* 어떤 사람의 **역할**은 소방관이다. 이 사람에겐 화재를 진압해야 한다는 **책임**이 있다.

* 이렇듯, 어떤 공동체의 구성원에게 **역할**이 부여됨에 따라, 자연스럽게 **책임**이 부여된다.

* 객체도 마찬가지이다. 객체에도 특정한 **역할**이 부여된다. 또한 이 역할로 인해 어떤 **책임**이 부여된다.

  이러한 사실에서 나오는 **중요한 개념**이 있다.

  * **여려 사람이 동일한 역할을 수행할 수 있다.**

    * 캐셔가 여러명일 수 있다. 그래도 상관없다.

    * 요청하는 객체 입장에선 어떤 객체가 그 역할을 수행하던 상관없다. 

      그 역할에 대한 책임만 다 해주면 된다.

  * **역할은 대체가능성을 의미한다.**

    * 캐셔는 대체할 수 있다. 
    * 굳이 그 사람만이 캐셔를 해야 하는건 아니다. 대체가능하다.
    * 특정 객체만이 그 역할을 수행할 수 있는게 아니다. 얼마든지 다른 객체로 대체가능하다.

  * **책임을 수행하는 방법은 자율적으로 선택할 수 있다.**

    * 요청을 받은 객체는 자신만의 방법으로 책임을 다할 수 있다.
    
    * 어떤 객체A는 방법a를 쓸 수 있고, 어떤 객체B 방법b를 쓸 수 있다.

    * 즉 동일한 요청에 대해서, 요청을 받은 객체에 따라 서로 다른 방식으로 동작할 수 있다는 것이다.
    
        ```note
        어디서 많이 들은 말이다. 다형성이다.
        
        그럼 추상클래스를 역할이라고 볼 수 있는가?  
        동일한 추상클래스A를 상속받은 클래스 가, 나, 다는 동일한 역할A를 가진다고 볼 수 있는가?  
        동일한 역할을 가졌기에, 그 역할에 명시된 어떠한 책임을 져야 한다는 건가?  
        다만, 동일한 역할일지라도, 각자 서로 다른 방법으로 그 책임을 다할 수 있다는 것인가?  
        그리고 이게 다형성이라는 말인가?  
        
        음... 맞는 것 같기는 하다만... 아닐 수도 있다. 좀 더 읽어봐야겠다.
        ```
    
  * **한 사람이 동시에 여러 역할을 수행할 수 있다.**
  
    * 예를 들면, 어떤 사람은 바리스타이면서, 한 가정의 엄마이거나 아빠일 수 있다.
    
    * 두개 이상의 책임을 가질 수 있는 것이다.
    
      ```note
      근데, 하나의 객체가 동시에 여러 역할을 가질 수 있는걸까...?  
      인터페이스랑 연관이 있을까?  
      클래스는 두개 이상의 인터페이스를 구현할 수 있지 않은가?  
      근데 인터페이스로 역할을 표현할 수 있는가?  
      뭘까 대체...?  
      이건 그냥 하나의 객체가 두가지 역할로 쓰일 수 있다는 걸 말하고 싶었던걸까...?
      ```
    
      

