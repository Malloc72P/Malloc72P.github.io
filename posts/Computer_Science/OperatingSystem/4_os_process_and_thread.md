---
sort: 4
title: 프로세스와 스레드
tags: [ os ]
---

## 프로세스와 스레드

## 프로세스와 스레드의 생성.

프로세스는 fork라는 시스템콜을 써서 자식 프로세스를 만들 수 있다. 자식 프로세스는 다음과 같은 특징이 있다.

* 부모의 텍스트영역 공유
* 데이터, 스택영역 복사
* 새로운 pid와 ppid를 가진다.
* open된 파일에 대한 정보를 공유한다. 각자 파일 디스크럽터 테이블은 따로 갖지만 같은 파일을 가리킨다.

exec시스템콜을 쓰면 프로세스 기존의 이미지를 무시하고 새로운 프로세스 이미지를 읽어와서 초기화하고 수행한다. 이걸 다시 말하면, 현재의 텍스트, 데이터, 스택 영역의 내용을 새로운 이미지로 대체하겠다는 것이다. 이걸 서서 새로 생성한 자식 프로세스에게 다른 일을 시킬 수 있다.

스레드는 pthread라는 모든 유닉스계열 POSIX시스템에서 쓸 수 있는 표준 API이다. 이 API를 써서 스레드를 쓸 수 있다. 스레드는 프로세스의 데이터와 힙 영역을 공유한다. 스택은 각자 가진다.

## 스레드를 써서 얻을 수 있는 이점

##### 병렬처리 프로그램을 작성할 때 스레드를 쓰면 좋다.

스레드는 프로세스에 비해 비교적 작은 자료구조만 업데이트해서 생성할 수 있다.

프로세스보다 컨택스트 스위칭이 빠르다. 비교적 작은 자료구조만 가지기 때문이다.

프로세스로 병렬처리를 하는 경우, 이들간에 통신을 하려면 IPC를 써야만 가능하다. 반면 스레드는 그냥 데이터나 힙 영역을 가지고 통신할 수 있어서, 스레드 간 쉽게 협업할 수 있다.

