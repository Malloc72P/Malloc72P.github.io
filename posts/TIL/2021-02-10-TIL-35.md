---
sort: -35
title: TIL-35, 서른다섯번째.
tags: [ TIL ]
---

# 오늘 할 일

- [x] JUnit에 대해 공부하기
- [x] 운동
- [ ] 토끼책 읽기
- [ ] SQL책 읽기

# 오늘 배운 내용  

## Git 커밋 메세지를 좀 더 잘 써보자

[선생님이 되어주는 링크](https://meetup.toast.com/posts/106)

### 구성

* 50자 이내의 요약문장(제목)
* 공백라인
* 본문

### 위의 형식을 지킨다면...

* git log --oneline 명령어를 실행하면  요약문장만 출력되기 때문에, 보기 좋아진다.
* 50자 이내의 요약문장을 지킨다면, 더 읽기 편한 커밋제목을 만들 수 있다.

### 커밋의 제목을  작성하는 요령

* 50자 이내로 요약해서 작성하자. 그래야 읽기 편하다
* 제목은 가능하면 영어로 쓰자. 
* 제목의 첫글자는 대문자로 쓰자. 원어민 입장에서 첫글자가 소문자면 엄청 이상하다고 한다.
* 제목 끝에 .을 쓰지 말자. 영문법상 제목에는 점을 찍지 않는다더라.
* 제목은 명령조로 쓰자.  보통 첫 단어를 동사원형으로 쓰면 명령조가 된단다. git 스스로가 명령문으로 커밋메세지의 제목을 쓴다. 우리도 명령조로 써야 자동메세지로 채워진 커밋 메세지 사이에 자연스레 녹아들 수 있다고 한다.



## Test Driven Development

* 테스트 코드를 먼저 짜고, 프로덕션 코드를 짠다.
* 어떤 기능을 테스트할지, 또 그 기능에 어떤 입력이 들어갔을때, 어떤 결과가 나와야 할지부터 고민하게 되므로, 내가 구현하려고 하는 대상을 좀 더 잘 이해할 수 있을 것 같다. :smile:
* 자바의 경우 public static void main, 줄여서 psvm을 만들어서 테스트하면, 프로덕션 코드에 수정이 발생한다! 이러면 보기도 않좋고, 실수로 버그를 만들지도 모른다. :sweat:
* 대신, JUnit5를 쓰면, 프로덕션 코드와 테스트 코드를 분리할 수 있다! :smile: 이러면 프로덕션 코드에 일체 수정을 가하지 않고 테스트 코드를 작성할 수 있어서 매우 편하고 안전하다.
* AssertJ를 이용하면 더 좋다. 좀 더 가독성이 좋은 테스트 코드를 작성할 수 있기 때문이다.



## JUnit5와 AssertJ

[선생님이 되어주는 링크](https://pjh3749.tistory.com/241)

* JUnit5의 assertEquals는 가독성이 좋지 않을 수 있다.
* 어디가 기댓값이고 실제값인지, 아규먼트 순서로 따지기 때문에 햇갈릴  수 있다. (내가 그랬다.)
* AssertJ의 assertThat을 쓰면, 햇갈리지 않는다.

```java
assertThat(actual).isEqualTo(expected);
```

* 예외가 발생하는지 테스트할수도 있다!

```java
assertThatThrownBy(() -> {
    board.add(null);
}).isInstanceOf(InvalidParameterException.class);
```

* 람다표현식에 예외가 발생하는 상황을 넣는다. 그 다음 메서드 체이닝으로 isInstanceOf메서드를 붙여서, 예외가 발생했는지, 또 발생한 예외가 지정한 예외와 같은지 검사할 수 있다.:smile:



## 그 외에 알게 된 것

* ```shell
  $ history | grep git 
  ```

* 위의 명령어로 최근 썼던 git 명령어를 열람할 수 있다. 파이프는 정말 편리한 것 같다.

* 그리고 호눅스도 멋있는 것 같다. :smile:

* 기능수정과 버그픽스는 절대로 절대로 리팩토링이 아니다! :open_mouth: 리팩토링이란, 이미 문제없이 잘 돌아가는 코드를 좀 더 나은 구조로 변경하는걸 말한다. 따라서, 리팩토링 전과 후의 출력결과는 동일해야 한다. 근데 기능수정이나 버그픽스를 하면, 당연하게도 출력결과가 바뀔 수 있다. 그러니 이걸 리팩토링이라고 할 수 없다.

* static import를 쓰면 static 메서드를 호출할 때, 클래스명을 생략할 수 있어서 좋다. :smile:

* 보통 기능 단위로 Pull Request를 하게 된다. 만약 추가한 기능에 문제가 생겼다면, Pull Request페이지에 있는 Revert버튼으로 해결할 수 있다고 한다. 아직 안해봐서 어떻게 돌아가는건지는 잘 모르겠다. 나중에 한번 테스트해봐야겠다! :smiley:

* 커밋 전에 수정한 코드를 리포매팅하는 습관을 가지자! 자동옵션을 켜서 리포매팅을 자동화하는것도 좋다.

# 코딩일일결산

#### 내일의 나에게 보내는 전달사항

* JUnit5로 테스트하는걸 좀 더 공부해보기
* 토끼책 읽기
* SQL책 읽기

#### GOOD

* PR은 신기한 것 같다. 좀 더 좋은 코드를 짜는데 큰 도움이 될 것 같다.

#### BAD

* 토끼책이랑 SQL책을 읽어야 하는데 너무 힘들다. 저녁먹고 힘이 나면 해보도록 하자.

