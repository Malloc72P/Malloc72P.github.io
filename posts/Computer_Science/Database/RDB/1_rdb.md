---
sort: 1
title: 관계형 데이터베이스
tags: [ DB ]
---



### 관계형 데이터베이스란

데이터를 테이블로 관리하는 데이터모델이다. 데이터 간에 종속관계가 생기는건 관계(Releational)를 써서 표현한다. 관계형 데이터베이스는 트랜잭션 지원이라는 강점을 가지고 있다.

### 트랜잭션

#### 트랜잭션이란

트랜잭션은 DB의 상태를 변경하는 하나의 논리적인 기능을 수행하기 위한 작업들을 말한다. 

#### 트랜잭션이 필요한 이유

예를들면 A가 B한테 계좌이체하는 상황이라고 치자. 먼저A의 게좌정보를 읽어야 한다. 이체하려는 금액보다 잔액이 많으면  A의 계좌정보에서 돈을 빼야한다. 그 다음 B의 계좌정보에 돈을 추가해야 한다. 여러번의 쿼리로 구성되지만, 논리적으로 봤을때는 하나의 작업이다. 근데 이 작업을 구성하는 작업이 몇개만 성공하고 끝났다면 어떤 일이 벌어질까? 

누군가의 계좌에서 돈은 빠져나갔지만 안들어간다던가, 돈이 안빠졌는데 들어간다던가 하는 일이 발생할 수 있다. 이런 일이 없게 하려고 있는게 트랜잭션이다.

#### 트랜잭션의 성질 : ACID

위에서 말했던 일이 발생하지 않기 위해서 트랜잭션은 4가지 성질을 가져야 한다. 이걸 ACID라고 부른다.

##### Atomicity : 원자성

트랜잭션을 구성하고 있는 작업들은 전부 성공하던가 실패해야 한다. 하나의 트랜잭션이 일부만 성공하고 끝나는 상황은 발생하지 않는다.

##### Consistency : 일관성

트랜잭션의 완료 후의 데이터베이스는 일관된 상태를 유지해야 한다. 

##### Isolation : 격리성 | 독립성

데이터베이스는 여럿이서 공유해서 쓸 수 있어야 한다. 하지만 그 결과는 싱글스레드에서 돌아간 것과 같은 결과가 나와야 한다. 물론 고성능을 위해서는 동시에 처리가 되어야 하지만, 그 결과는 싱글스레드에서 돌아간 것 처럼 진행되어야 한다. 

이걸 다시 말하면, 두개의 트랜잭션이 동시에 수행되는데, 하나의 트랜잭션이 다른 트랜잭션의 연산에 끼어들면 안된다는걸 말한다.

##### Durability : 영속성 | 지속성

트랜잭션이 성공적으로 완료되었다면, 그 결과는 영구적으로 반영되어야 한다.

```note
데이터베이스에 대한 공부가 정말 많이 필요하다고 느꼈다.
새로 산 책이랑 생활코딩을 통해서 데이터베이스를 차근차근 공부해보자.

트랜잭션의 성질도 사실상 PPT에 있는거 복붙한 수준밖에 안된다. 이걸 이해하고 있다는 느낌이 안든다.
책 더 읽어보고 공부해봐야 좋을 것 같다.
어떤 책이 좋을까? 일단 주문한 책부터 보자.
```

